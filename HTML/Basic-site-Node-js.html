<!DOCTYPE html>
<html lang="en">

<head>
    <title>dynamic site with node.js lesson</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../CSS/test.css">
    <link rel="stylesheet" href='https://mmwebfonts.comquas.com/fonts/?font=myanmar3' />
    <link href="https://fonts.googleapis.com/css?family=Dancing+Script|Kumar+One+Outline|Slabo+27px|Unlock" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <style>
        body {
            font-family: Myanmar3, Yunghkio;
        }
        
        #about {
            background-color: #0000002e;
        }
        
        #copyright {
            background-color: #0000002e;
        }
    </style>
    <link rel="stylesheet" href="../styles/default.css">
    <script src="../highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad()
    </script>
</head>


<body id="home" data-spy="scroll" data-target=".navbar" data-offset="100">
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success fixed-top">
        <div class="container">
            <a class="navbar-brand order-1 mr-0" href="http://zwelab.com/mmh/index.html" target="_blank">LEARN COURSES</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-item nav-link" href="../index.html">Home <span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link" href="#speakers">Courses</a>

                    <a class="nav-item nav-link" href="#schedule">Lesson</a>
                    <a class="mv-item nav-link" href="Volcubularies.html">Vocabularies</a>
                    <a class="nav-item nav-link" href="#about">About</a>

                </div>
            </div>
        </div>
    </nav>
    <!-- /navbar -->

    <!-- jumbotron -->
    <div class="jumbotron2 bg-info text-white mb-0">
        <!-- <img src="jumbo-background.jpg" class="card-img" alt="background image"> -->
        <div class="container text-sm-center pt-5">

            <br>
            <br>
            <h1 id="schedule" class="display-5 text-center text-muted">SIMPLE DYNAMIC SITE WITH NODE.JS LESSONS</h1>
        </div>
    </div>
    <!-- /jumbotron -->

    <div class="container-fluid pt-4">


        <!--speakers-->


        <!-- test about -->

        <!-- about -->

        <div class="row border-top pt-3">
            <div class="col-md-4 order-md-1 pb-4 ml-md-3">
                <h3 class="mb-4">What You'll Learn</h3>
                <div class="list-group">
                    <a href="#section1" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section2" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section3" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section4" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section5" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section6" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                    <a href="#section7" class="list-group-item list-group-item-action list-group-item-primary text-dark"><strong></strong></a>
                </div>
            </div>

            <div class="col-lg order-lg-3 mx-md-4">
                <h3 class="mb-4 small-title">Overview</h3>
                <p>
                    Node.JS platform ပေါ်မှာ JavaScript တွေကိုရေးခြင်းဖြင့်ကျွန်တော်တို့ exciting applications တွေတည်ဆောက်ခြင်းအတွက်possibilities တွေအများကြီးရှိလာပါတယ်။ကျွန်တော်တို့တွေက command line apps, တွေ desktop apps တွေနဲ့ real-time websites တွေကိုတောင်မှတည်ဆောက်နိုင်ပါတယ်။ကျွန်တော်တို့ဒီသင်ခန်းစာမှာတော့ရိုးရှင်းတဲ့
                    dynamic website တွေတည်ဆောက်တာကိုလေ့လာသွားမှာဖြစ်ပါတယ်။ကျွန်တေ်ာတို့တွေကအဲ့ဒီ application တွေကို node.js APIS တွေနဲ့တည်ဆောက်နိုင်ပြီး thirty-party modules သို့ frameworks တွေကိုအသုံးပြုစရာမလိုပဲတည်ဆောက်နိုင်ပါတယ်။အဲ့တာကကျွန်တော်တို့အတွက်အလွန်အရေးကြီးပြီးတော့
                    node.js တွေအတွင်းမှာအလုပ်လုပ်ပုံကိုနားလည်းထားဖို့လိုအပ်ပါတယ်။ကျွန်တော်တို့ကိုယ်တိုင်အဲ့ဒီ things တွေကိုဘယ်လိုပြီးမြောက်အောင်လုပ်ဆောင်ရမယ်ဆိုတာတွေနဲ့အခြား framework တွေကိုခက်ခဲစွာအလုပ်မလုပ်ခင်မှာလေ့လာထားရမှာဖြစ်ပါတယ်။
                </p>

                <h3 class="mb-4 small-title">HTTP Servers</h3>
                <p>
                    Websites တွေကဘယ်လိုလုပ်ဆောင်တယ်ဆိုတာကိုကျွန်တော်တို့ theory အနည်းငယ်နဲ့ထပ်ပြီးလေ့လာသွားမှာပဲဖြစ်ပါတယ်။Web browser ကိုစပြီးပြောရမယ်ဆိုရင် browser ကတော့ application တစ်ခုဖြစ်ပြီးတော့ download ပြုလုပ်တာတွေ HTML တွေ CSS တွေကို render ပြုလုပ်တာတွေနဲ့ client
                    side JavaScript တွေကို execute ပြူလုပ်ဖို့တွေအတွက်အသုံးပြုနိုင်ပါတယ်။browser ရဲ့ address bar မှာ website address တွေကိုရိုက်ထည့်ပြီးတော့ enter ခေါက်ပြီးသွားနိုင်ပါတယ်။အဲ့ဒီအခါမှာ information တွေကို server တွေဆီကို request ပြုလုပ်ပါတယ်
                    သို့မဟုတ် internet မှာ computer ကrequest ပြုလုပ်ပါလိမ့်မယ်။အဲ့တာက domain name ကို assign ပြုလုပ်တာပဲဖြစ်ပါတယ်။information အပိုင်းတွေမှာကrequest ပြုလုပ်လိုက်တဲ့ address တွေသို့မဟုတ် URL ကို server ကလက်ခံပေးတာပဲဖြစ်ပါတယ်။URL ဆိုတာကတော့
                    file path တွေဖြစ်ပြီး index.html စတာမျိုးတွေဖြစ်ပါတယ်။software တွေက Apache သို့မဟုတ် NGINX တွေလိုမျိုး server တွေပေါ်မှာ run တဲ့အခါမှာ မှန်ကန်တဲ့ directory တွေ file တွေကိုရှာပြီးတော့ content တွေကို read လုပ်ပြီး browser ဆီကိုပြန်ပို့ပေးတာပဲဖြစ်ပါတယ်။Browser
                    နဲ့ web server တစ်ခုကိုချိတ်ဆက်ပေးနဲ့နည်းလမ်းကိုတော့ protocol လို့ခေါ်ပါတယ်။Browser တွေ web server တွေမှာတော့ hypertext Transfer protocol လို့ခေါ်တဲ့ HTTP ကိုအသုံးပြုပါတယ်။software တွေက http server တွေ http server တွေကိုရည်ညွန်းနိုင်ပြီးတော့
                    browser ကတော့ HTTP client ပဲဖြစ်ပါတယ်။ကျွန်တော်တို့ dynamic sites တွေတည်ဆောက်တဲ့အခါမှာဘာတွေဖြစ်လဲဆိုရင် ဥပမာကျွန်တော်တို့က php script ကို server မှာ run ချင်တယ်ဆိုရင် http server က PHP interpreter တွေကိုအသုံးပြုဖို့လိုအပ်ပြီး dynamic
                    content တွေကို generate ွပုလုပ်ပြီး page ပေါ်မှာ run ဖို့အတွက်နဲ့ပေးပိုဖို့အတွက်ပဲဖြစ်ပါတယ်။Node.js မှာကျွန်တော်တို့တွေက HTTP server ကို programmatically အရအမှန်တကယ်တည်ဆောက်နိုင်ပါတယ်။နောက်ပြီး URL တွေကို handling ပြုလုပ်နိုင်တယ် request
                    ပြုလုပ်နိုင်တယ် ကျွန်တော်တို့လိုချင်တဲ့အရာတွေကိုပါ response ပြုလုပ်နိုင်တာပဲဖြစ်ပါတယ်။ကျွန်တေ်ာတို့တွေက static file တွေကို serve ပြုလုပ်နိုင်ပြီးတော့ dynamic content တွေကိုလည်း generate ပြုလုပ်ပေးနိုင်ပါတယ်။
                </p>

                <h3 class="mb-4 small-title">Preparing & Planning</h3>
                <p>
                    ကျွန်တော်တို့ဒီတစ်ခါမှာတော့ 4P's လို့ခေါ်တဲ့ problem solving methodology တွေကိုလေ့လာသွားမှာဖြစ်ပါတယ်။ပထမတစ်ခုကတော့ preparation ဖြစ်ပြီး Problem ကိုနားလည်ပြီးတော့ high level solution တွေအကြောင်းကိုသိထားရမှာပဲဖြစ်ပါတယ်။ဒုတိယတစ်ခုကတော့ solution တွေကို plan
                    ချရမှာပဲဖြစ်ပါတယ်။သုံးခုမြောက်ကတော့ perform ဖြစ်ပြီးကျွန်တော်တို့ရဲ့ propose solution တွေအတွက်လိုအပ်တဲ့ action တွေကိုလုပ်ဆောင်ပေးရမှာပဲဖြစ်ပါတယ်။နောက်ဆုံးတစ်ခုကတော့ solution တွေကို perfect ဖြစ်ဖို့လုပ်ဆောင်တာပဲဖြစ်ပါတယ်။ perfect ဆိုတာကတော့
                    project ကြီးတစ်ခုလုံး perfect ဖြစ်နေရမှာကိုဆိုလိုတာမဟုတ်ပဲကျွန်တော်တို့လုပ်ဆောင်နေတဲ့ preparation , planning တွေ performing တွေကပိုပြီးတို့တက်လာရမယ်ဆိုတာကိုဆိုလိုတာပဲဖြစ်ပါတယ်။ကျွန်တော်တို့ဥပမာထဲမှာတော့ HTTP server ကို create လုပ်နိုင်ဖို့အတွက်
                    node.js site ထဲက documentation ထဲက API docs ထဲမှာသွားကြည့်နိုင်ပါတယ်။
                </p>

                <h3 class="mb-4 small-title">Creating a Simple Server</h3>
                <p>
                    web server တစ်ခုတည်ဆောက်တဲ့နည်းလမ်းကိုပထမဆုံးလေ့လာသွားမှာပဲဖြစ်ပါတယ်။အဲ့တာက web browser လိုမျိုးပဲ client တွေဆီကလာတဲ့ request တွေကိုလက်ခံနားထောင်မှာပဲဖြစ်ပါတယ်။node.js website ကိုသွားပြီးတော့ web server တွေတည်ဆောက်တာကိုဘယ်လိုတွေဖော်ပြထားလဲဆိုတာကိုလေ့လာနိုင်ပါတယ်။ကျွန်တော်တို့
                    <a href="https://nodejs.org/en/about/" target="_blank">About of Node.js</a> ထဲမှာ webserver တည်ဆောက်ပုံဥပမာကိုကျွန်တော်တို့တွေ့ရမှာပဲဖြစ်ပါတယ်။အဲ့တာကို copy ယူပြီးကျွန်တော်တို့ run ကြည့်နိုင်ပါတယ်။အဲ့ဒီအခါမှာ server running ဆိုတဲ့
                    console ကိုတွေ့ရမှာဖြစ်ပြီၤး program တွေ port တွေကအလုပ်လုပ်မှာပဲဖြစ်ပါတယ်။ကျွန်တေ်ာတို့တွေက prot တွေကိုသတ်မှတ်ပေးခဲ့လို့ရပါတယ်။နောက်ပြီး response.end ဆိုတဲ့ကတော့နောက်ဆုံး return ပြန်ပေးတာပဲဖြစ်ပါတယ်။တစ်ခါတစ်ရံမှာကျွန်တော်တို့ run တဲ့အခါမှာ
                    port တွေကိုပြန်ပြီး kill ပေးဖို့လိုပါတယ်။အဲ့တာမှ port တွေကအလုပ်လုပ်ထားတာကိုရပ်တန့်သွားမှာပဲဖြစ်ပါတယ်။port တွေအလုပ်လုပ်နေတာကို kill ဖို့အတွက်ကျွန်တော်တို့က ctrl + c ကိုသုံးနိုင်ပါတယ်။နောက်ပြီးကျွန်တော်တို့က setinterval တွေလည်းထားနိုင်ပါတယ်။ကျွန်တော်တို့ဥပမာထဲမှာ
                    setInterval ကိုထားပြီrun ပြထားပါတယ်။
                    <pre><code class="js">
const hostname = '127.0.0.1';
const port = 5000;

const server = http.createServer((request, response) => {
    response.statusCode = 200;
    setInterval(function() {
        response.write(new Date() + "\n");
    }, 1000);
    response.setHeader('Content-Type', 'text/plain');

    // response.end('Hello World\n');
    //response.write('This is after the end\n');
});

server.listen(port, hostname, () => {
    console.log(`Server running at http://${hostname}:${port}/`);
});
                </code></pre>

                </p>

                <h3 class="mb-4 small-title">Home Route</h3>
                <p>
                    ကျွန်တော်တို့ဒီတစ်ခါမှာတော့ Home Route တည်ဆောက်ပုံကိုလေ့လာသွားမှာပဲဖြစ်ပါတယ်။အဲ့တာကြောင့်ကျွန်တော်တို့က ဥပမာထဲမှာ HomeRoute ဆိုတဲ့ function ကိုတည်ဆောက်ခဲ့ပြီး request နဲ့ response ဆိုတဲ့ parameter နှစ်ခုကိုထည့်ပေးခဲ့ရမှာပဲဖြစ်ပါတယ်။နောက်ပြီး handlers
                    တွေကိုလည်းထည့်ရေးထားတာပဲဖြစ်ပါတယ်။HomeRoute ထဲမှာ request တွေ response တွေပြုလုပ်ကြပါတယ်။request တွေဆိုတာကတော့ူဥပမာအားဖြင့် incoming message တွေပဲဖြစ်ပါတယ်။incoming message ဆိုတာကတော့ http server သို့မဟုတ် clientRequest ကတည်ဆောက်ပေးထားတဲ့
                    object ပဲဖြစ်ပါတယ်။နောက်ပြီးအဲ့တာက response တွေကို request ပြုလုပ်တဲ့ပထမဆုံး argument တွေကိုဖြတ်သွားတာပဲဖြစ်ပါတယ်။အဲ့တာကြောင့် request က incoming message ပဲဖြစ်ပါတယ်။ဘယ်လိုအမျိုးအစားတွေက incoming message ဖြစ်လဲဆိုရင် http version,
                    headers, raw headers, trailers တွေ raw trailers တွေစတဲ့ url method တွေပဲဖြစ်ပါတယ်။ အောက်မှာပေးထားတဲ့ code တွေကို run ကြည့်မယ်ဆိုရင်တော့ header , search, footer တွေအလုပ်လုပ်တာကိုကျွန်တေ်ာတို့တွေ့ရမှာဖြစ်ပါတယ်။ဒါပေမယ့်အမှန်တကယ်တော့ page
                    ရဲ့အောက်ခြေမှာ status bar နဲ့ waiting ဆိုတာကိုပြနေမှာပဲဖြစ်ပါတယ်။ ဘာ့ကြောင့်လဲဆိုတော့ကျွန်တော်တို့က response ကိုမပေးခဲ့လို့ပဲဖြစ်ပါတယ်။ပြဿနာကတော့ browser က timeout ဖြစ်သွားနိုင်တာပဲဖြစ်ပါတယ်။timeout error ဖြစ်ပြီးသွားတဲ့အခါမှာကျွန်တေ်ာတို့တွေက
                    Bad Gateway ဆိုတဲ့စာသားကို browser ပေါ်မှာမြင်တွေ့ရမှာပဲဖြစ်ပါတယ်။
                    <pre><code class="js">
                        
//1.create a web server 
const http = require(`http`);

const hostname = `127.0.0.1`;
const port = 4000;

const server = http.createServer((request, response) => {
 homeRoute(request, response);
});

server.listen(port, hostname, () => {
    console.log(`Server running at http://${hostname}:${port}/`);
});

//2.Handle HTTP route Get / and POST / i.e. Home
function homeRoute(request, response) {
    //if url == "/" && GET 
    if (request.url === "/") {
        //show search
        response.writeHead(200, { 'Content-Type': 'text/plain' });
        response.write("Header\n");
        response.write("Search\n");
        response.end("Footer\n");
    }

}
                    </code></pre>
                    <br>
                    <a href="../dynamic-website-node/app.js" target="_blank">app.js</a>
                </p>

                <h3 class="mb-4 small-title">User Route & Populating User Information</h3>
                <p>
                    ကျွန်တော်တို့ဒီတစ်ခါမှာတော့ user router တည်ဆောက်ပုံကိုလေ့လာသွားမှာဖြစ်ပါတယ်။ပထမ router တည်ဆောက်ဖို့အတွက်ကျွန်တော်တို့က function တွေကိုတည်ဆောက်ခဲ့ရပါမယ်။နောက်ပြီးကျွန်တော်တို့က username တွေကိုအစားထိုးပြီးထည့်ပေးမှာဖြစ်လို့ variable name တစ်ခုကြေငြာပြီး
                    request.url.replace ဆိုတာနဲ့ထည့်ပေးခဲ့မှာပဲဖြစ်ပါတယ်။ကျွန်တေ်ာတို့က file တစ်ခုစီခွဲပြီးရေးထားတာဖြစ်လို့ server တည်ဆောက်ခဲ့တဲ့ file ထဲကနေ export ပြုလုပ်ပြီးခေါ်ရမှာဖြစ်ပါတယ်။နောက်ပြီးကျွန်တေ်ာတို့ router မှာ accept ပြုလုပ်နိုင်ဖို့အတွက်
                    file ကို require ပြုလုပ်ပေးခဲ့ဖို့လည်းလိုအပ်ပါတယ်။ကျွန်တော်တို့ user router နဲ့ server တည်ဆောက်ထားတဲ့ file ကိုအောက်မှာဖော်ပြထားပါတယ်။ နောက်ထပ်တစ်ခုကတော့ကျွန်တော်တို့ treehouse ရဲ့ <a href="http://teamtreehouse.com/chalkers.json"
                        target="_blank">chalkers.json</a> file ထဲကနေ user information တွေကိုထုပ်ပြပေးတာကိုဖော်ပြပေးမှာဖြစ်ပါတယ်။ user information တွေထဲကမှကျွန်တော်တို့လိုချင်တဲ့ budget ဆိုတာကိုပဲထုပ်ပြထားပေးတာဖြစ်ပါတယ်။call back function တိုင်းမှာကျွန်တေ်ာတို့
                    end ရေးခဲ့ဖို့လိုပါတယ်။set interval ထားခဲ့ရင်တော့အဲ့တာပြီးတဲ့အခါမှ end ကအလုပ်လုပ်ပေးမှာဖြစ်ပါတယ်။ set interval ထဲမှာတော့ callback function ကend ပြီးတဲ့နောက်မှာမှ execute ပြလုပ်ပါတယ်။အဲ့တာကြောင့်ကျွန်တော်တို့က data တွေဝင်လာအောင်စောင့်ဖို့
                    information လိုအပ်ပါတယ်။အောက်မှာပေးထားတဲ့ဥပမာ file တွေကို download ပြုလုပ်ပြီး run ကြည့်နိုင်ပါတယ်။
                    <br>
                    <ul>
                        <h5>User Route.The following two files is related.</h5>
                        <li>
                            <a href="../dynamic-website-node/user-route.js" target="_blank">user-route.js</a>
                        </li>
                        <li>
                            <a href="../dynamic-website-node/app-u.js" target="_blank">app-u.js</a>
                        </li>
                    </ul>

                    <a href="../dynamic-website-node/populate-route.js" target="_blank">populate-route.js</a>
                </p>

                <h3 class="mb-4 small-title">Making Our Views DRY</h3>
                <p>
                    မကြာခနdynamic သို့မဟုတ် even static websites တွေမှာ repetition တွေအများအပြားရှိနေတက်ပါတယ်။head tag တွေ footer တွေမှာတူညီတဲ့ stuff တွေအများအပြားရှိနေတက်ပါတယ်။အဲ့တာကြောင့်ကျွန်တေ်ာတို့က DIY principle (Don't Repeat Yourself) ဆိုတာကိုအသုံးပြုရမှာပဲဖြစ်ပါတယ်။အဲ့တာကmultiple
                    file တွေမှာရှိတဲ့ duplication တွေရှိဖို့မလိုအပ်ပါဘူး။ကျွန်တေ်ာတို့က html တွေကိုသေးငယ်တဲ့အပိုင်းလေးတွေအဖြစ်ကွဲထွက်အောင်ရေးရမှာဖြစ်ပြီး dynamic information တွေအတွက်ကတော့ placeholders တွေကိုထည့်ပေးရမှာပဲဖြစ်ပါတယ်။အဲ့တာကကျွန်တော်တို့ dynamic
                    site အတွက် templates form ပဲဖြစ်နေပါလိမ့်မယ်။အဲ့တာကြောင့်ကျွန်တော်တို့က html tag တွေကိုကျွန်တော်တို့လိုချင်သလိုအပိုင်းတွေခွဲပြီးတော့ file တစ်ခုခြင်းဆီတည်ဆောက်ပြီးတော့ထည့်ပေးခဲ့ရမှာပဲဖြစ်ပါတယ်။

                </p>
                <h3 class="mb-4 small-title">Reading from Files</h3>
                <p>
                    ကျွန်တော်တို့ files တွေကိုဘယ်လို read လုပ်ရမလဲ နောက်ပြီး response ထဲမှာ file တွေရဲ့ content တွေကိုဘယ်လို send ပြုလုပ်ရမလဲဆိုတာတွေကိုလေ့လာသွားမှာဖြစ်ပါတယ်။ကျွန်တော်တို့က file တွေကို read တွေ insert တွေ response တွေပြုလုပ်ဖို့ function တစ်ခုကိုတည်ဆောက်ခဲ့ရပါမယ်။
                    function ထဲမှာတော့ parameter တွေပါမှာဖြစ်ပြီးတော့ template name , value , response တွေပဲဖြစ်ပါတယ်။အဲ့တာကြောင့်ကျွန်တေ်ာတို့က node js documentation ထဲက <a href="https://nodejs.org/dist/latest-v12.x/docs/api/fs.html#fs_fs_readfile_path_options_callback"
                        target="_blank">fs.readFile </a> မှာ doucmentation တွေဖတ်ကြည့်နိုင်ပြီးလေ့လာနိုင်ပါတယ်။ကျွန်တေ်ာတို့ဥပမာထဲမှာ module အတွက် require ကိုရေးပေးထားပြီးတော့ fs ဆိုတာကတော့ file system ရဲ့အတိုကောက်ပဲဖြစ်ပါတယ်။ကျွန်တော်တို့ file တွေကို read
                    တွေ response တွေလုပ်ဖို့ file ကို အခြားfile ထဲကို export လုပ်ပေးခဲ့ရပါမယ်။အခြား file ထဲကနေမှ requier ပြုလုပ်ပေးပြီးခေါ်သုံးပေးရမှာဖြစ်ပါတယ်။နောက်ထပ် readfileSync မှာဆိုရင်တော့ synchronous version ဖြစ်ပြီးတော့ filename ရဲ့ content ကိုreturn
                    ပြန်ပေးတာပဲဖြစ်ပါတယ်။encoding option ကတော့အထူးပြုထားတာဖြစ်ပြီးတော့ function က string သို့ buffer တွေကို return ပြန်ပေးမှာပဲဖြစ်ပါတယ်။ အသေးစိတ်တွေကို node.js website ရဲ့ documentation ထဲမှာဝင်ပြီးဖတ်နိုင်ပါတယ်။ကျွန်တော်တို့အောက်ပါ ဥပမာထဲမှာလည်းရေးထားတာတွေကိုလေ့လာနိုင်ပါတယ်။

                </p>
                <h3 class="mb-4 small-title">Binding Values</h3>
                <p>
                    နောက်ထပ်တစ်ဆင့်ကတော့ ကျွန်တေ်ာတို့ site ထဲမှာ actual data တွေနဲ့အစားထိုးလဲလှယ်တာတွေကိုလေ့လာသွားမှာဖြစ်ပါတယ်။အဲ့တာကြောင့်ကျွန်တေ်ာတို့က values နဲ့ content ဆိုတဲ့ arguments တွေပါတဲ့ function တစ်ခုကိုလည်းတည်ဆောက်ပေးခဲ့ဖို့လိုအပ်ပါတယ်။နောက်ပြီးကျွန်တော်တို့
                    အဲ့ဒီ values တွေရဲ့ keys တွေကိုလည်း cycle over ပြုလုပ်ပေးဖို့လိုအပ်ပါတယ်။အဲ့ဒီနောက်မှာတော့values object က keys တွေအကုန်လုံးကို values တွေနဲ့အစားထိုးပေးဖို့လိုအပ်ပါတယ်။ကျွန်တော်တို့ကvalues ထဲမှာရှိတဲ့ var နဲ့တွဲသုံးပြီးတော့ for loop
                    ထဲမှာထည့်ပေးခဲ့ရမှာပဲဖြစ်ပါတယ်။တစ်ချို့ browser တွေမှာတော့အဲ့ဒါကအလုပ်လုပ်မှာမဟုတ်ပါဘူး။ဘာ့ကြောင့်လဲဆိုတော့ ကျွန်တေ်ာတို့က serverside ပေါ်မှာ javaScript ကိုအလုပ်လုပ်လို့ပဲဖြစ်ပါတယ်။ကျွန်တော်တို့က key တွေကို values တွေနဲ့အစားထိုးချင်တဲ့အခါမှာမတူညီတဲ့နည်းလမ်းနှစ်မျိုးနဲ့
                    programmatically အရလက်ခံပြီးအလုပ်လုပ်နိုင်ပါတယ်။ကျွန်တော်တို့က key တွေကဘယ်လိုအလုပ်လုပ်သလဲဆိုတာကိုသိရင် values တွေနဲ့အလုပ်လုပ်နိုင်ပါတယ်။ဥပမာကျွန်တော်တို့ကအဲ့ဒီလိုအလုပ်လုပ်လိုက်တယ်ဆိုပါဆို့။ဒါပေမယ့်ကျွန်တော်တို့က key value တွေကို value
                    dictionary ကနေ dynamically အရယူထားတာပဲဖြစ်ပါတယ်။အမှန်တကယ်တော့ကျွန်တော်တို့ progrmmmatically အရ square bracket နဲ့လက်ခံနိုင်မှာပဲဖြစ်ပါတယ်။ကျွန်တေ်ာတို့တွေက string တွေကို return ပြန်ချင်ရင်တော့ encoding option ကိုအထူးပြုပေးရမှာပဲဖြစ်ပါတယ်။အဲ့ဒီလိုမလုပ်ခဲ့ရင်တော့
                    buffer ကိုပဲ return ပြန်ပေးမှာဖြစ်ပါတယ်။universal encoding ကတော့ utf-8 ပဲဖြစ်ပါတယ်။
                    <br>
                    <pre><code class="js">
var Profile = require("./profile.js");
var renderer = require("./renderer.js");

//Handle HTTP route GET / and POST / i.e. Home
function home(request, response) {
    //if url == "/" && GET
    if(request.url === "/") {
    //show search
    response.writeHead(200, {'Content-Type': 'text/plain'});  
    renderer.view("header", {}, response);
    renderer.view("search", {}, response);
    renderer.view("footer", {}, response);
    response.end();
    }
    //if url == "/" && POST
    //redirect to /:username
}

//Handle HTTP route GET /:username i.e. /chalkers
function user(request, response) {
    //if url == "/...."
    var username = request.url.replace("/", "");
    if(username.length > 0) {
    response.writeHead(200, {'Content-Type': 'text/plain'});  
    renderer.view("header", {}, response);    
    
    //get json from Treehouse
    var studentProfile = new Profile(username);
    //on "end"
    studentProfile.on("end", function(profileJSON){
        //show profile
        
        //Store the values which we need
        var values = {
        avatarUrl: profileJSON.gravatar_url, 
        username: profileJSON.profile_name,
        badges: profileJSON.badges.length,
        javascriptPoints: profileJSON.points.JavaScript
        }
        //Simple response
        renderer.view("profile", values, response);
        renderer.view("footer", {}, response);
        response.end();
    });
        
    //on "error"
    studentProfile.on("error", function(error){
        //show error
        renderer.view("error", {errorMessage: error.message}, response);
        renderer.view("search", {}, response);
        renderer.view("footer", {}, response);
        response.end();
    });
        
    }
}
module.exports.home = home;
module.exports.user = user;                        
                </code></pre>
                </p>
                <h3 class="mb-4 small-title">Sending Content Type Headers in Node.js</h3>
                <p>
                    Http specification ရဲ့အပိုင်းမှာဆိုရင် server တွေကဘယ်လိုအလုပ်လုပ်သလဲဆိုတာတွေ browser တွေကတစ်ခုနဲ့တစ်ခုအပြန်အလုပ်ပြောဆိုရန်ဘယ်လိုလုပ်ဆောင်သလဲဆိုတာတွေပါဝင်တာပဲဖြစ်ပါတယ်။အဲ့ဒါတွေက values တွေဖြစ်ပြီးတော့ user တွေဆီကနေပြောက်နေတာဖြစ်ပြီးအဲ့တာတွေကို headers
                    လို့ခေါ်ပါတယ်။အဲ့ဒီ header တွေက programmatically အရ clients တွေနဲ့ server တွေနဲ့တည်ဆောက်နိုင်ပါတယ်။head တစ်ခုဆီက service end တွေဖြစ်ပြီး content type လို့လည်းခေါ်ပါတယ်။ browser မှာ response ထဲမှာရှိတဲ့ data တွေကတူညီပြီး data string
                    တွေပဲဖြစ်ပါတယ်။ head ထဲမှာ text/plain ဆိုတာပါတဲ့ content type ပါမှာပဲဖြစ်ပါတယ်။text/plain အပြင် content type တွေအများကြီးရှိပြီးတော့ကျွန်တော်တို့ google ကနေရှာကြည့်နိုင်ပါတယ်။ကျွန်တော်တို့တွေက head တွေကိုအများကြီးထပ်ခါထပ်ထပ်ခါသုံးမနေပဲ
                    အစမှာတစ်ခါတည်းကြေငြာခဲ့ပြီးကျွန်တေ်ာတို့လိုတဲ့အခါမှာခေါ်ပြီးအသုံးပြုနိုင်ပါတယ်။
                </p>
                <h3 class="mb-3 small-title">Dealing with the POST Body</h3>
                <p>
                    Http server တွေနဲ့ချိတ်ဆက်ဖို့သို့မဟုတ် Http တွေအတွက် method နှစ်ခုကတော့ GET နဲ့ POST ပဲဖြစ်ပါတယ်။အဲ့တာတွေကို realizing မလုပ်ပဲနဲ့ website ထဲမှာကျွန်တော်တို့အချိန်တိုင်းခေါ်ပြီးGET request တွေကိုတည်ဆောက်နိုင်ပါတယ်။ဘာ့ကြောင့်လဲဆိုတော့ ကျွန်တော်တို့တွေက
                    websites address တွေကနေ information တွေကို retrieving ပြုလုပ်ထားလို့ပဲဖြစ်ပါတယ်။ကျွန်တော်တို့ form တစ်ခုကိုတည်ဆောက်တဲ့အခါမှာ GET တွေ POST တွေကိုသုံးပြီးတော့ specify ပြုလုပ်နိုင်ပါတယ်။form content တွေကို encodes ပြုလုပ်တဲ့အခါ url ရဲ့အဆုံးမှာ
                    query string အဖြစ် specifying ပြုလုပ်ပေးပါတယ်။Post ကတော့ form's contents တွေကို request body ရဲ့အပိုင်းတွေအဖြစ်ပို့ပေးတာပဲဖြစ်ပါတယ်။အဲတာက client request body ဖြစ်ပြီးတော့ service response body နဲ့ပုံစံတူပါတယ်။ကျွန်တော်တို့က GET method
                    ကိုသုံးပြီးတော့ search ပြုလုပ်တဲ့အခါမှာ error တွေ့ရမှာဖြစ်ပြီးတော့ url မှာပဲတွေ့ရမှာဖြစ်ပါတယ်။Post method မှာတော့ information တွေကိုအမှန်တကယ်ပေးပို့ပေးတာပဲဖြစ်ပါတယ်။နောက်ပြီး incoming message တွေမှာဆိုရင် readable stream တွေပါပြီးတော့
                    အဲ့ဒီထဲမှာ data event တွေပါဝင်တာပဲဖြစ်ပါတယ်။အဲ့ဒီထဲမှာ event တွေအများကြီးပါဝင်ပြီးအခြား event တွေနဲ့ချိတ်ဆက်နေတာကိုကျွန်တော်တို့တွေ့ရမှာပဲဖြစ်ပါတယ်။ကျွန်တော်တို့ client request တွေတည်ဆောက်တဲ့အခါမှာ သို့မဟုတ်ဥပမာတွေအတွက် scraper တွေတည်ဆောက်တဲ့အခါမှာသို့မဟုတ်
                    API reader တွေတည်ဆောက်တဲ့အခါမှာ response က client ပေါ်မှာ incoming message တွေဖြစ်လာပါတယ်။server တွေအတွက် incoming message တွေကတော့ request တွေကို receive ပြုလုပ်ပေးတာပဲဖြစ်ပါတယ်။incomingMessage တွေက response တွေသို့မဟုတ် request တွေဖြစ်ပြီးတော့
                    context တွေပေါ်မှာမှီခိုတာပဲဖြစ်ပါတယ်။
                    <pre><code class="js">
                    
//Handle HTTP route GET / and POST / i.e. Home
function home(request, response) {
  //if url == "/" && GET
  if(request.url === "/") {
    if(request.method.toLowerCase() === "get") {
      //show search
      response.writeHead(200, commonHeaders);  
      renderer.view("header", {}, response);
      renderer.view("search", {}, response);
      renderer.view("footer", {}, response);
      response.end();
    } else {
      //if url == "/" && POST
      
      //get the post data from body
      request.on("data", function(postBody) {
        //extract the username
        var query = querystring.parse(postBody.toString());
        response.write(query.username);
        response.end();
        //redirect to /:username
      });
      
    }
  }
  
}

//Handle HTTP route GET /:username i.e. /chalkers
function user(request, response) {
  //if url == "/...."
  var username = request.url.replace("/", "");
  if(username.length > 0) {
    response.writeHead(200, commonHeaders);  
    renderer.view("header", {}, response);    
    
    //get json from Treehouse
    var studentProfile = new Profile(username);
    //on "end"
    studentProfile.on("end", function(profileJSON){
      //show profile
      
      //Store the values which we need
      var values = {
        avatarUrl: profileJSON.gravatar_url, 
        username: profileJSON.profile_name,
        badges: profileJSON.badges.length,
        javascriptPoints: profileJSON.points.JavaScript
      }
                </code></pre>
                </p>
                <h3 class="mb-4 small-title">Redirection Headers in Node.js</h3>
                <p>
                    ကျွန်တော်တို့ဒီတစ်ခါမှာ redirect ဘယ်လိုလုပ်တယ်ဆိုတာကိုလေ့လာရမှာပဲဖြစ်ပါတယ်။Redirection ထဲမှာများစွာသော status codeတွေသတ်မှတ်နိုင်ပါတယ်။အဲ့တာကိုကျွန်တော်တို့ <a href="https://en.wikipedia.org/wiki/URL_redirection#HTTP_status_codes_3xx"
                        target="_blank">Wikipedia</a> ထဲမှာကျွန်တော်တို့လေ့လာနိုင်ပါတယ်။Original request က POST ဖြစ်နေရင်တောင် URL အသစ်ကိုယူပြီးတော့ GET request တွေကိုအသုံးပြုပြီး redirect ပြုလုပ်နိုင်ပါတယ်။ကျွန်တော်တို့တွေက ကိုယ်ပိုင် dynamic websites တွေတည်ဆောက်တဲ့အခါမှာ
                    frameworks တွေကိုအမှန်တကယ်ကိုယ်တိုင်တည်ဆောက်ရပါလိမ့်မယ်။နောက်ပြီး route တွေကို handle ပြုလုပ်ဖို့အတွက် router တွေ template engine တွေနဲ့ varliable တွေကိုသတ်မှတ်ပြီးကျွန်တော်တို့ dynamic websites ကိုတည်ဆောက်ပေးရမှာပဲဖြစ်ပါတယ်။
                    <pre><code class="js">
                            //extract the username
                            var query = querystring.parse(postBody.toString());            
                            //redirect to /:username  
                            response.writeHead(303, { "Location": "/" + query.username });
                        </code></pre>
                </p>
            </div>

            <!-- /lesson -->
        </div>

        <!--  /about -->
        <!-- signup form -->
        <hr>
        <div id="about" class="row py-4 text-muted border-top">
            <div class="row-md row-xl-5">
                <h3><strong>About Me</strong></h3>
                <img src="http://placeimg.com/200/200/people/any" alt="Myo Min ,Web developer" class="img-thumbnail rounded-circle my-2 d-none d-md-block">
                <h4>Myo Min Htet ,Web Developer</h4>

                <p>I have been learning about the course from another lesson club.And then I have written this site to refer to and studying for the beginner. </p>


                <h3 class="section-title">Summary of Qualifications</h3>
                <ul>
                    <li>Experience as a freelance web developer</li>
                    <li>Experience with HTML, CSS, and JavaScript</li>
                    <li>Bachelor of Science</li>
                </ul>

            </div>
            <div class="col-md col-xl-5 mt-lg-5">
                <a href="http://twitter.com" class="social twitter pt-3">
                    <img src="../images/Twitter.png" alt="Twitter logo" class="social-ico">
                </a>
                <a href="http://facebook.com/mynameismyominhtet" class="social Facebook pt-3">
                    <img src="../images/facebook.png" alt="facebook logo" class="social-ico">
                </a>
                <a href="http://linkedin.com" class="social Linkin pt-3">
                    <img src="../images/LinkedIn.png" alt="linkedin logo" class="social-ico">
                </a>
            </div>
            <div class="col-md col-xl-5 ml-auto mt-4">
                <p><strong>Can Request Example project File</strong></p>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Email">
                    <span class="inpt-group-btn">
                     <button class="btn btn-primary" type="button">Sign up</button>
                 </span>
                </div>
            </div>
        </div>
        <hr>
        <!-- signup form -->
        <!-- footer -->
        <div class="row py-3">

            <div class="col-md text-md-right">
                <small>&copy; 2019  Myo Min Htet</small>
            </div>

        </div>
        <!-- /footer -->

    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

</body>

</html>